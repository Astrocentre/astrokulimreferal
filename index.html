<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <style>
    body { background: #111; color: #00f9ff; font-family: Arial; text-align: center; padding: 50px; }
    input, button { margin: 10px; padding: 10px; width: 250px; border-radius: 5px; border: none; }
    button { background: #00f9ff; color: black; cursor: pointer; }
  </style>
</head>
<body>
  <h1>ðŸš€ Astro Game Login</h1>
  <input type="email" id="email" placeholder="Email"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="login()">Login</button>
  <button onclick="signup()">Sign Up</button>
  <p id="msg"></p>

  <script>
    const { createClient } = supabase;
    const client = createClient(
      'https://vpzclfvfmskozxeccvnn.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwemNsZnZmbXNrb3p4ZWNjdm5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNTUzNzUsImV4cCI6MjA2ODgzMTM3NX0.cr_PR99k9Ad-_RrtqcVF9oMaTDaBZw5fh46uwYHxVS8'
    );

    async function login() {
      const { error } = await client.auth.signInWithPassword({
        email: email.value,
        password: password.value
      });
      document.getElementById('msg').textContent = error ? error.message : "âœ… Login successful!";
      if (!error) window.location.href = 'portal.html';
    }

    async function signup() {
      const { error } = await client.auth.signUp({
        email: email.value,
        password: password.value
      });
      document.getElementById('msg').textContent = error ? error.message : "âœ… Signup successful! Check your email.";
    }
  </script>
</body>
</html>
